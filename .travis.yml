language: java
addons:
  sonarcloud:
    organization: "alimate"
    token:
      secure: "${SONAR_SECRET}"
matrix:
  include:
    - jdk: openjdk8
      os:  linux
      env: JAVA_VERSION=1.8
    - jdk: openjdk9
      os:  linux
      env: JAVA_VERSION=9
    - jdk: openjdk10
      os:  linux
      env: JAVA_VERSION=10
    - jdk: openjdk11
      os: linux
      env: JAVA_VERSION=11
install: true
script:
  - ./mvnw clean verify sonar:sonar -Dsonar.projectKey=alimate_errors-spring-boot-starter -B
  - bash <(curl -s https://codecov.io/bash)